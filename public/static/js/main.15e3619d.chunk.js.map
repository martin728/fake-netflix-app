{"version":3,"sources":["firebase.js","components/movies/MovieTile.js","services/tvmaze-service.js","components/movies/MoviesGrid.js","components/movies/MovieDetails.js","components/MyAccount.js","components/movies/MoviesSearchGrid.js","components/user/SignUp.js","components/buttons/LoginBtn.js","components/buttons/MyAccountBtn.js","components/buttons/LogoutBtn.js","components/Header.js","components/user/SignIn.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","moviesFirebaseCollection","collection","googleProvider","GoogleAuthProvider","getFavMoviesForUser","userId","a","where","get","addDataToCollection","data","movieId","then","doc","docs","map","length","add","console","log","signInWithGoogle","signInWithPopup","res","user","uid","name","displayName","authProvider","email","error","alert","message","signInWithEmailAndPassword","btn","password","preventDefault","registerWithEmailAndPassword","createUserWithEmailAndPassword","logout","signOut","MovieTile","image","rating","id","favourite","history","useHistory","useAuthState","className","onClick","obj","push","src","medium","alt","average","getDefaultMovies","fetch","json","getMovieById","MoviesGrid","useState","movies","setMovies","useEffect","document","selected","forEach","mv","includes","sort","b","slice","ended","movie","MovieDetails","useParams","genres","join","split","reverse","language","averageRuntime","summary","replace","MyAccount","el","movies2","oldArray","catch","MoviesSearchGrid","query","searchTerm","show","SignUp","setEmail","setPassword","setName","loading","type","value","onChange","e","target","placeholder","register","LoginBtn","MyAccountBtn","LogoutBtn","Header","setSearchTerm","onSubmit","SignIn","signIn","App","exact","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.15e3619d.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\"\nimport \"firebase/compat/firestore\"\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCMrsCVrnvI6TWSuabZaGpBCcDM49IMUN0\",\n    authDomain: \"auth-development-f033b.firebaseapp.com\",\n    projectId: \"auth-development-f033b\",\n    storageBucket: \"auth-development-f033b.appspot.com\",\n    messagingSenderId: \"772765047876\",\n    appId: \"1:772765047876:web:f2420b03f3dc9be830f011\"\n};\n\nconst app = firebase.initializeApp(firebaseConfig);\nconst auth = app.auth();\nconst db = app.firestore();\nconst moviesFirebaseCollection = firebase.firestore().collection('fav-movies')\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\n\nconst getFavMoviesForUser = async (userId) => {\n    return moviesFirebaseCollection.where('userId', '==', userId).get()\n}\n\nconst addDataToCollection = async (data, userId, movieId) => {\n    moviesFirebaseCollection\n        .where('userId', '==', userId)\n        .where('movieId', '==', movieId)\n        .get().then((doc) => {\n            if (doc.docs.map((doc) => doc.data()).length == 0) {\n                return moviesFirebaseCollection.add(data);\n            } else {\n                console.log('Movie already exists')\n            }\n        })\n}\n\nconst signInWithGoogle = async () => {\n    try {\n        const res = await auth.signInWithPopup(googleProvider);\n        const user = res.user;\n        const query = await db\n            .collection(\"users\")\n            .where(\"uid\", \"==\", user.uid)\n            .get();\n        if (query.docs.length === 0) {\n            await db.collection(\"users\").add({\n                uid: user.uid,\n                name: user.displayName,\n                authProvider: \"google\",\n                email: user.email,\n            });\n        }\n    } catch (err) {\n        console.error(err);\n        alert(err.message);\n    }\n};\n\nconst signInWithEmailAndPassword = async (btn, email, password) => {\n    btn.preventDefault();\n\n    try {\n        await auth.signInWithEmailAndPassword(email, password);\n    } catch (error) {\n        // console.error(err);\n        // alert(err.message);\n        return error\n\n    }\n};\n\nconst registerWithEmailAndPassword = async (name, email, password) => {\n    try {\n        const res = await auth.createUserWithEmailAndPassword(email, password);\n        const user = res.user;\n        await db.collection(\"users\").add({\n            uid: user.uid,\n            name,\n            authProvider: \"local\",\n            email,\n        });\n    } catch (error) {\n        // console.error(err);\n        // alert(err.message);\n        throw error\n    }\n};\n\nconst sendPasswordResetEmail = async (email) => {\n    try {\n        await auth.sendPasswordResetEmail(email);\n        alert(\"Password reset link sent!\");\n    } catch (err) {\n        console.error(err);\n        alert(err.message);\n    }\n};\n\nconst logout = () => {\n    auth.signOut();\n};\n\nexport {\n    auth,\n    db,\n    signInWithGoogle,\n    signInWithEmailAndPassword,\n    registerWithEmailAndPassword,\n    sendPasswordResetEmail,\n    logout,\n    getFavMoviesForUser,\n    addDataToCollection\n};","import React from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { addDataToCollection } from '../../firebase.js'\nimport { auth } from \"../../firebase.js\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nconst MovieTile = ({ image, name, rating, id, favourite }) => {\n    const history = useHistory();\n    const [user] = useAuthState(auth);\n\n\n    function sendDataToCollection() {\n        let obj = {\n            userId: user.uid,\n            movieId: id\n        }\n        addDataToCollection(obj, user.uid, id);\n    }\n\n    return <div className=\"movie\">\n        <button className={`like-btn ${!user ? 'disable-btn' : ''} ${favourite ? 'liked' : 'notLiked'}`} onClick={sendDataToCollection}>â™¥</button>\n        <img onClick={() => history.push('/movies/' + id)} src={image?.medium ? image?.medium : 'https://images.unsplash.com/photo-1518676590629-3dcbd9c5a5c9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDR8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60'} alt={name} />\n        < div className=\"movie-info\">\n            <h3>{name}</h3>\n            <span>{rating?.average ? rating?.average : 'N/A'}</span>\n        </div>\n    </div >\n};\n\nexport default MovieTile;","\nconst SHOW_API = 'https://api.tvmaze.com/shows';\nconst SEARCH_API = 'https://api.tvmaze.com/search/shows?q='\nconst INFO_API = 'https://api.tvmaze.com/shows/';\n\nconst getDefaultMovies = () => {\n    return fetch(SHOW_API).then(res => res.json())\n}\n\nconst getMovieById = (id) => {\n    return fetch(INFO_API + id).then(res => res.json())\n}\n\nconst searchMoviesByTerm = (searchTerm) => {\n    return fetch(SEARCH_API + searchTerm).then(res => res.json()).then(res => res.map(movie => (movie.show)))\n}\n\nexport {\n    getDefaultMovies,\n    getMovieById,\n    searchMoviesByTerm\n};","import React, { useEffect, useState } from 'react';\nimport MovieTile from './MovieTile'\nimport { auth } from \"../../firebase.js\";\nimport { getDefaultMovies } from '../../services/tvmaze-service'\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { getFavMoviesForUser } from '../../firebase.js';\n\nconst MoviesGrid = () => {\n\n    const [movies, setMovies] = useState([]);\n    const [user] = useAuthState(auth);\n\n    function sortByAlph() {\n        getDefaultMovies().then(movies => setMovies(movies.sort(function (a, b) {\n            if (a.name > b.name) {\n                return 1;\n            }\n            if (a.name < b.name) {\n                return -1;\n            }\n            return 0;\n        })))\n    }\n    function sortByRating() {\n\n        getDefaultMovies().then(movies => setMovies(movies.sort(function (a, b) {\n            if (a.rating.average < b.rating.average) {\n                return 1;\n            }\n            if (a.rating.average > b.rating.average) {\n                return -1;\n            }\n            return 0;\n        })))\n\n    }\n    function sortByDate() {\n        getDefaultMovies().then(movies => setMovies(movies.slice().sort(function (a, b) {\n            if (a.ended < b.ended) {\n                return 1;\n            }\n            if (a.ended > b.ended) {\n                return -1;\n            }\n            return 0;\n        })))\n\n    }\n\n\n    useEffect(() => {\n\n        if (user) {\n            getFavMoviesForUser(user.uid).then((document) => {\n                let selected = [];\n                document.docs.map(doc => selected.push(doc.data().movieId));\n                getDefaultMovies().then(movies => {\n                    movies.forEach(mv => {\n                        mv.favourite = selected.includes(mv.id)\n                    });\n                    setMovies(movies)\n                })\n            })\n        } else {\n            getDefaultMovies().then(movies => setMovies(movies))\n        }\n\n    }, [user])\n\n    return (\n        <div className=\"movie-container\">\n            <div className=\"header-bg\"></div>\n            <div className=\"sort-btns\">\n                <button className=\"form-btn\" onClick={sortByAlph}>Sort by alphabet</button>\n                <button className=\"form-btn\" onClick={sortByRating}>Sort by rating</button>\n                <button className=\"form-btn\" onClick={sortByDate}>Sort by date</button>\n            </div>\n            <div className=\"movie-grid\">\n                {movies.length > 0 && movies.map(movie => (\n                    <MovieTile key={movie?.id} {...movie} />\n                ))}\n            </div>\n        </div>\n    )\n};\n\nexport default MoviesGrid;","import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getMovieById } from '../../services/tvmaze-service'\n\n\nconst MovieDetails = () => {\n    let clicked = false;\n    let { id } = useParams();\n    const [movie, setMovies] = useState([]);\n    useEffect(() => {\n        getMovieById(id).then(data => setMovies(data))\n    }, [id])\n\n    return (\n        <div className=\"movie-description\">\n            <div className=\"movie-picture\">\n                <h1>{movie?.name}</h1>\n                <img src={movie?.image?.medium} alt=\"img\" />\n            </div>\n            <div className=\"movies-info\">\n                <p><b>Genres</b>: {(movie?.genres)?.join(', ')}</p>\n                <p><b>Premiere</b>: {movie?.ended?.split('-').reverse().join('.')}</p>\n                <p><b>Language</b>: {movie?.language}</p>\n                <p><b>Runtime</b>: {movie?.averageRuntime}</p>\n                <p><b>Rating</b>: {movie?.rating?.average}</p>\n                <div className=\"movie-summary\">\n                    <p><b>Description:</b></p>\n                    <div>\n                        {(movie?.summary)?.replace('<p>', ' ').replace('</p>', ' ').replace('<b>', ' ').replace('</b>', ' ')}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default MovieDetails;","import React, { useEffect, useState } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth } from \"../firebase.js\";\nimport { getFavMoviesForUser } from '../firebase.js';\nimport { getMovieById } from '../services/tvmaze-service'\nimport MovieTile from './movies/MovieTile'\n\n\nconst MyAccount = () => {\n\n    const [user] = useAuthState(auth);\n    const [movies, setMovies] = useState([]);\n\n    useEffect(() => {\n        if (user) {\n            getFavMoviesForUser(user.uid).then((document) => {\n                let selected = [];\n                document.docs.map(doc => selected.push(doc.data().movieId));\n                selected.forEach(el => getMovieById(el).then(movies2 => setMovies(oldArray => [...oldArray, movies2])))\n            }).catch((error) => {\n                console.log(`Error getting documents: ${error}`);\n            });\n        }\n    }, [user, user?.uid])\n\n    return <div className=\"my-account\">\n        <h1>{user?.displayName?.split(' ')[0] ? 'Welcome, ' + user?.displayName?.split(' ')[0] + \"!\" : ''}</h1>\n        <h3>Here is your collection of movies:</h3>\n        <div className=\"movie-container\">\n            {movies.length > 0 && movies.map(movie => (\n                <MovieTile key={movie?.id} {...movie} />\n            ))}\n        </div>\n    </div>\n};\n\nexport default MyAccount","import React, { useEffect, useState } from 'react';\nimport MovieTile from './MovieTile'\nimport { searchMoviesByTerm } from '../../services/tvmaze-service'\nimport { useParams } from 'react-router-dom';\n\nconst MoviesSearchGrid = () => {\n    let { query } = useParams();\n\n    const [movies, setMovies] = useState([]);\n\n    useEffect(() => {\n        searchMoviesByTerm(query).then(movies => setMovies(movies))\n    }, [query])\n\n    return (\n        <div className=\"movie-container\">\n            {movies.length > 0 && movies.map(movie => (\n                <MovieTile key={movie?.id} {...movie} />\n            ))}\n        </div>\n    )\n};\n\nexport default MoviesSearchGrid;","import React from 'react'\nimport { useEffect, useState } from \"react\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth, registerWithEmailAndPassword, signInWithGoogle } from \"../../firebase.js\";\nimport { useHistory } from \"react-router-dom\";\n\n\nconst SignUp = () => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [user, loading] = useAuthState(auth);\n    const history = useHistory();\n\n    function onSignin() {\n        history.push('/signin')\n    }\n    const register = (e) => {\n        e.preventDefault();\n        if (!name) alert(\"Please enter name\");\n        registerWithEmailAndPassword(name, email, password);\n    };\n\n    useEffect(() => {\n        if (loading) return;\n        if (user) history.replace(\"/dashboard\");\n    }, [user, loading, history]);\n\n    return <div className=\"form\">\n        <h1>Sign Up</h1>\n        <form className=\"form-page\">\n            <label>Name</label>\n            <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Name...\" />\n            <label>Email</label>\n            <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email...\" />\n            <label>Password</label>\n            <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Password...\" />\n            <label>Confirm Password</label>\n            <input type=\"password\" placeholder=\"Password...\" />\n        </form>\n        <div className=\"btn-container\">\n            <button className=\"form-btn\" onClick={(e) => register(e)}> Sign Up</button>\n            <button className=\"form-btn\" onClick={() => signInWithGoogle(email, password)}> Sign Up with Google</button>\n        </div>\n        <p>Already have an account? <span className=\"sign-btn\" onClick={onSignin}>Sign in!</span></p>\n\n    </div>\n};\n\nexport default SignUp;","import { useHistory } from 'react-router-dom';\n\nconst LoginBtn = () => {\n    const history = useHistory();\n\n    return <div>\n        <button className=\"form-btn\" onClick={() => history.push('/signin')}>Log In</button>\n    </div>\n}\nexport default LoginBtn","import { useHistory } from 'react-router-dom';\n\nconst MyAccountBtn = () => {\n    const history = useHistory();\n\n    return <div>\n        <button className=\"form-btn account-btn\" onClick={() => history.push('/myaccount')}>My Account</button>\n    </div>\n}\n\nexport default MyAccountBtn","import { logout } from \"../../firebase.js\";\n\nconst LogoutBtn = () => {\n\n    return <div>\n        <button className=\"form-btn\" onClick={logout}>Log Out</button>\n    </div>\n}\n\nexport default LogoutBtn","import React, { useState } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport LoginBtn from './buttons/LoginBtn.js'\nimport MyAccountBtn from './buttons/MyAccountBtn'\nimport LogoutBtn from './buttons/LogoutBtn'\nimport { auth } from \"../firebase.js\";\nimport { useHistory } from 'react-router-dom';\n\nconst Header = () => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [user] = useAuthState(auth);\n    const history = useHistory();\n    const handleOnSubmit = (e) => {\n        e.preventDefault()\n        history.push('/movies/search/' + searchTerm)\n    }\n\n    const handleOnChange = (e) => {\n        setSearchTerm(e.target.value)\n    }\n    function onMainPage() {\n        history.push('/')\n    }\n\n    return <div>\n        <header className=\"logo\">\n            <h3 className=\"logo-text\" onClick={onMainPage} >FakeNetflix</h3>\n            <div className=\"header-right\">\n                < form onSubmit={handleOnSubmit} >\n                    <input\n                        className=\"search\"\n                        type=\"text\"\n                        placeholder=\"Search...\"\n                        value={searchTerm}\n                        onChange={handleOnChange}\n                    />\n                </form>\n                {user ? <MyAccountBtn /> : ''}\n                {user ? <LogoutBtn /> : <LoginBtn />}\n            </div>\n        </header>\n    </div>\n};\n\nexport default Header;","import { React, useEffect, useState } from \"react\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useHistory } from \"react-router-dom\";\nimport { auth, signInWithEmailAndPassword, signInWithGoogle } from \"../../firebase.js\";\n\nconst SignIn = () => {\n    const history = useHistory()\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [user, loading] = useAuthState(auth);\n    console.log(user)\n    function onSignup() {\n        history.push('/signup')\n    }\n    useEffect(() => {\n        if (loading) {\n            return;\n        }\n        if (user) history.replace(\"/\");\n    }, [user, loading, history]);\n\n    function signIn(btn, email, password) {\n        try {\n            signInWithEmailAndPassword(btn, email, password)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    return <div className=\"form\">\n        <h1>Sign In</h1>\n        <form className=\"form-page\">\n            <label>Email</label>\n            <input type=\"email\" placeholder=\"Email...\" value={email} onChange={(e) => setEmail(e.target.value)} />\n            <label>Password</label>\n            <input type=\"password\" placeholder=\"Password...\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </form>\n        <div className=\"btn-container\">\n            <button className=\"form-btn\" onClick={(btn) => signIn(btn, email, password)}>Sign In</button>\n            <button className=\"form-btn\" onClick={() => signInWithGoogle(email, password)}>Sign In with Google</button>\n        </div>\n        <p>Doesn`t have an account? <span className=\"sign-btn\" onClick={onSignup}>Sign up!</span></p>\n    </div>\n};\n\nexport default SignIn;","import MoviesGrid from './components/movies/MoviesGrid';\nimport MovieDetails from './components/movies/MovieDetails';\nimport MyAccount from './components/MyAccount';\nimport MoviesSearchGrid from './components/movies/MoviesSearchGrid';\nimport SignUp from './components/user/SignUp';\nimport Header from './components/Header';\nimport SignIn from './components/user/SignIn';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\n\nfunction App() {\n\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route exact path='/movies/:id'>\n          <MovieDetails />\n        </Route>\n        <Route exact path='/'>\n          <MoviesGrid />\n        </Route>\n        <Route exact path='/myaccount'>\n          <MyAccount />\n        </Route>\n        <Route exact path='/movies/search/:query'>\n          <MoviesSearchGrid />\n        </Route>\n        <Route exact path='/signup'>\n          <SignUp />\n        </Route>\n        <Route exact path='/signin'>\n          <SignIn />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./styles.css\"\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}